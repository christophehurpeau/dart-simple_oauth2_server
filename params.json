{"name":"Dart-simple oauth2 server","tagline":"","body":"[![Build Status](https://drone.io/github.com/christophehurpeau/dart-simple_oauth2_server/status.png)](https://drone.io/github.com/christophehurpeau/dart-simple_oauth2_server/latest)\r\n\r\nSee the [auto-generated docs](http://christophehurpeau.github.io/dart-simple_oauth2_server/docs/)\r\n\r\n### How to use\r\n\r\n```\r\npart of server;\r\n\r\nMap authController(){\r\n  \r\n  final identifier = \"*********.apps.googleusercontent.com\";\r\n  final secret = \"*************\";\r\n  \r\n  final redirectUrl = Uri.parse(\"http://localhost:4040/auth/google-response\");\r\n  final googleOauthClient = new OAuth2GoogleClient(identifier, secret);\r\n  \r\n  final uuid = new Uuid();\r\n  \r\n  return {\r\n    'google': (HttpRequest request, HttpResponse response){\r\n      var state = uuid.v1();\r\n      request.session['auth.googleUuid'] = state;\r\n      \r\n      var redirectTo = googleOauthClient.getRedirectionUri(redirectUrl, params: {\r\n          'state': state,\r\n          'scopes': ['https://www.googleapis.com/auth/userinfo.profile',\r\n                          'https://www.googleapis.com/auth/userinfo.email']\r\n      });\r\n      \r\n      response.redirect(redirectTo);\r\n    },\r\n    'google-response': (HttpRequest request, HttpResponse response){\r\n      var state = request.uri.queryParameters['state'];\r\n      if (state != null && (request.session['auth.googleUuid'] == null \r\n          || state != request.session['auth.googleUuid'])) {\r\n        response.redirect(Uri.parse('/auth/google'));\r\n        return;\r\n      }\r\n      \r\n      \r\n      googleOauthClient.createAccess(redirectUrl, request.uri.queryParameters['code'])\r\n        .then((OAuth2GoogleAccess _access){\r\n          access.retrieveMe()\r\n            .then((Map me){\r\n              print(me);\r\n            });\r\n        });\r\n      });\r\n    },\r\n  };\r\n}\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}